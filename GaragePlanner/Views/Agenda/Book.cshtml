@model GaragePlanner.Models.BookViewModel

<!DOCTYPE html>
<html>
<head>
    <title>Book Appointment</title>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
</head>
<body>
<h1>Book Appointment</h1>

<form method="post" action="@Url.Action("Book", "Agenda")">
    @Html.AntiForgeryToken()

    <div>
        <label for="date">Select Date:</label>
        <select name="SelectedDate" id="date">
            <option value="">-- Select Date --</option>
            @foreach (var date in Model.AvailableDates)
            {
                <option value="@date.ToString("yyyy-MM-dd")">@date.ToString("ddd, MMM d, yyyy")</option>
            }
        </select>
        @Html.ValidationMessageFor(model => model.SelectedDate)
    </div>

    <div id="timeslot" style="display:none;">
        <label for="time">Select Timeslot:</label>
        <select name="SelectedTimeslot" id="time">
            <option value="">-- Select Timeslot --</option>
            @foreach (var timeslot in Model.AvailableTimeSlots)
            {
                <option value="@timeslot">@timeslot</option>
            }
        </select>
        @Html.ValidationMessageFor(model => model.SelectedTimeSlot)
    </div>

    <input type="submit" value="Book Appointment">
</form>

<script>
    var dateSelect = document.getElementById("date");
    var timeslotDiv = document.getElementById("timeslot");

    dateSelect.addEventListener("change", function() {
        if (dateSelect.value != "") {
            timeslotDiv.style.display = "block";
        } else {
            timeslotDiv.style.display = "none";
        }
    });
</script>

</body>
</html>